<!doctype html>
<html lang="fr">
<head>
<title>HTML5 : Web-Storage</title>
<meta charset="utf-8">

</head>
<body>

<h1>Web Storage</h1>

<h2>Stockage sur événements</h2>
 
<p>
  <label for="prenom">Prénom</label>
  <input type="text" id="prenom" name="prenom" onchange="localStorage.setItem(this.name,this.value);" /> 
</p>

<p>
  <input type="checkbox" id="conditions" onchange="sessionStorage.setItem(this.id,this.checked);">
  <label for="conditions">J'accepte les conditions</label>
</p>

<script>
// Valeurs par défaut au chargement
if(typeof localStorage!='undefined') {
	var prenom = localStorage.getItem('prenom');
	if(prenom) document.getElementById('prenom').value = prenom;
}
if(typeof sessionStorage!='undefined') {
	var etat = sessionStorage.getItem('conditions');
	if(etat=='true') document.getElementById('conditions').checked = true;
}
</script>

</body>
</html>
